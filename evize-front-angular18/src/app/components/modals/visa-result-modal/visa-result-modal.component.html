<dialog
  id="modal"
  data-modal-backdrop="static"
  tabindex="-1"
  class="overflow-y-auto overscroll-none fixed top-1/2 -translate-y-1/2 right-0 z-40 w-screen h-screen bg-white backdrop-blur-md bg-opacity-25 flex justify-center items-center"
  *ngIf="visible"
>
  <div
    class="py-8 pl-8 pr-4 sm:w-fit max-w-5xl max-h-screen w-full sm:min-w-[400px]"
  >
    <!-- Modal content -->
    <div
      class="relative bg-white shadow-lg border border-[#e5e5e5] rounded-3xl p-4 md:p-8"
    >
      <!-- Modal header -->
      <div class="flex items-center justify-end">
        <button
          type="button"
          title="Close"
          class="cursor-pointer text-[26px] font-bold opacity-25 hover:opacity-50"
          aria-label="x"
          (click)="toggle()"
        >
          <svg
            width="19"
            height="18"
            viewBox="0 0 19 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.29688 17L17.2969 1"
              stroke="#170F49"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M17.2969 17L1.29688 1"
              stroke="#170F49"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </button>
      </div>

      <!-- Modal body -->
      <div
        class="px-4 md:px-5 text-[20px] pt-10 overflow-auto flex justify-center items-center flex-col gap-6 max-w-[800px]"
      >
        <div
          *ngIf="selectedModel != null && eligible == 'ok'"
          class="flex flex-col gap-2"
        >
          <div class="flex flex-row gap-2">
            <svg
              class="shrink-0"
              width="15"
              height="15"
              viewBox="0 0 15 15"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_1208_18468)">
                <path
                  d="M15 7.5C15 3.35786 11.6421 0 7.5 0C3.35786 0 0 3.35786 0 7.5C0 11.6421 3.35786 15 7.5 15C11.6421 15 15 11.6421 15 7.5Z"
                  fill="#0079BE"
                />
                <path
                  d="M7.49509 6.03909C7.62397 6.0409 7.75187 6.01644 7.871 5.9672C7.99012 5.91797 8.09798 5.845 8.18798 5.75273C8.28023 5.6649 8.35348 5.55907 8.40317 5.44179C8.45287 5.32451 8.47797 5.19828 8.4769 5.07091C8.47424 4.81142 8.36991 4.56333 8.18634 4.37991C8.00276 4.1965 7.75458 4.09239 7.49509 4.08995C7.36648 4.08803 7.23888 4.11296 7.12045 4.16315C7.00202 4.21333 6.89537 4.28768 6.8073 4.38142C6.71613 4.47159 6.64402 4.57916 6.59526 4.69776C6.5465 4.81636 6.5221 4.94355 6.52349 5.07177C6.52394 5.32931 6.62645 5.57618 6.80856 5.75829C6.99068 5.9404 7.23754 6.04291 7.49509 6.04336V6.03909Z"
                  fill="white"
                />
                <path
                  d="M6.58984 6.71484H8.35916V10.9131H6.58984V6.71484Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_1208_18468">
                  <rect width="15" height="15" fill="white" />
                </clipPath>
              </defs>
            </svg>

            <p class="text-[12px]" [innerHTML]="getDescription()"></p>
          </div>
          <div class="flex flex-row gap-2">
            <svg
              class="shrink-0"
              width="15"
              height="15"
              viewBox="0 0 15 15"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_1208_18468)">
                <path
                  d="M15 7.5C15 3.35786 11.6421 0 7.5 0C3.35786 0 0 3.35786 0 7.5C0 11.6421 3.35786 15 7.5 15C11.6421 15 15 11.6421 15 7.5Z"
                  fill="#0079BE"
                />
                <path
                  d="M7.49509 6.03909C7.62397 6.0409 7.75187 6.01644 7.871 5.9672C7.99012 5.91797 8.09798 5.845 8.18798 5.75273C8.28023 5.6649 8.35348 5.55907 8.40317 5.44179C8.45287 5.32451 8.47797 5.19828 8.4769 5.07091C8.47424 4.81142 8.36991 4.56333 8.18634 4.37991C8.00276 4.1965 7.75458 4.09239 7.49509 4.08995C7.36648 4.08803 7.23888 4.11296 7.12045 4.16315C7.00202 4.21333 6.89537 4.28768 6.8073 4.38142C6.71613 4.47159 6.64402 4.57916 6.59526 4.69776C6.5465 4.81636 6.5221 4.94355 6.52349 5.07177C6.52394 5.32931 6.62645 5.57618 6.80856 5.75829C6.99068 5.9404 7.23754 6.04291 7.49509 6.04336V6.03909Z"
                  fill="white"
                />
                <path
                  d="M6.58984 6.71484H8.35916V10.9131H6.58984V6.71484Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_1208_18468">
                  <rect width="15" height="15" fill="white" />
                </clipPath>
              </defs>
            </svg>
            <p class="text-[12px]">
              {{ applySection?.visaType?.entryAmount }}:
              <span class="font-semibold text-[#E34545]">{{
                getEntryType()
              }}</span>
              / {{ applySection?.visaType?.visaPrice }}:
              <span class="font-semibold text-[#E34545]"
                >{{ getPrice() }} USD</span
              >
            </p>
          </div>
          <div class="flex w-full items-center justify-center">
            <button
              (click)="continue()"
              type="button"
              class="bg-[#E34545] text-white rounded-md px-5 py-3 flex gap-2 text-[16px]"
            >
              {{ section?.applyButton }}
            </button>
          </div>
        </div>
        <p
          class=""
          [innerHTML]="section?.canApply"
          *ngIf="eligible == 'yes'"
        ></p>
        <p
          class=""
          [innerHTML]="section?.exempt"
          *ngIf="eligible == 'muaf'"
        ></p>

        <p
          class=""
          [innerHTML]="section?.passportValidityDateError"
          *ngIf="eligible == 'date'"
        ></p>
        <p
          class=""
          [innerHTML]="section?.cannotApply"
          *ngIf="eligible == 'no'"
        ></p>
        <div class="flex flex-row gap-2" *ngIf="eligible == 'muaf'">
          <p *ngFor="let condition of conditions; let i = index">
            {{
              getCondition(condition.condition.id) ??
                condition.condition.description
            }}
          </p>
        </div>
        <div class="flex flex-row gap-4 pt-4">
          <button
            [routerLink]="user ? '/apply' : '/login'"
            type="button"
            class="bg-[#E34545] text-white rounded-md px-5 py-3 flex gap-2 text-[16px]"
            *ngIf="eligible == 'yes'"
          >
            {{ section?.applyButton }}
          </button>
        </div>
      </div>
    </div>
  </div>
</dialog>
